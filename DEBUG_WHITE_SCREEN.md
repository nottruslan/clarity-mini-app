# Диагностика белого экрана на claritybot.ru

## Быстрая проверка в браузере

### Шаг 1: Откройте сайт в режиме инкогнито
1. Откройте браузер в режиме инкогнито (Ctrl+Shift+N в Chrome/Edge, Ctrl+Shift+P в Firefox)
2. Перейдите на https://claritybot.ru/
3. Откройте Developer Tools (F12 или Ctrl+Shift+I)

### Шаг 2: Проверьте консоль на ошибки
1. Перейдите на вкладку **Console**
2. Проверьте наличие ошибок (красные сообщения)
3. Типичные ошибки:
   - `Failed to load resource` - файлы не загружаются
   - `CORS policy` - проблема с CORS
   - `Uncaught TypeError` - ошибка в JavaScript
   - `404 Not Found` - файл не найден

### Шаг 3: Проверьте загрузку файлов
1. Перейдите на вкладку **Network**
2. Обновите страницу (F5)
3. Проверьте следующие файлы:
   - `index.html` - должен загрузиться со статусом 200
   - `/assets/index-*.js` - JavaScript файл должен загрузиться
   - `/assets/index-*.css` - CSS файл должен загрузиться
   - `telegram-web-app.js` - должен загрузиться с telegram.org

### Шаг 4: Проверьте ответы сервера
Для каждого файла проверьте:
- **Status:** должен быть `200 OK` (не 404, не 500, не CORS error)
- **Type:** должен быть правильный MIME type (text/html, application/javascript, text/css)
- **Size:** файлы должны иметь размер больше 0

## Типичные проблемы и решения

### Проблема 1: Все файлы возвращают 404
**Причина:** Проблема с деплоем Netlify или путями
**Решение:**
1. Проверьте статус деплоя в Netlify Dashboard
2. Убедитесь, что последний деплой успешен
3. Пересоберите проект: `npm run build && npm run deploy`

### Проблема 2: JavaScript файл не загружается (404 или CORS)
**Причина:** Проблема с путями или Cloudflare прокси
**Решение:**
1. Проверьте, что в Cloudflare DNS записи имеют оранжевое облако (Proxied)
2. Очистите кеш Cloudflare (Caching → Purge Everything)
3. Проверьте режим SSL/TLS (должен быть Full)

### Проблема 3: Ошибка в консоли "Uncaught TypeError" или "Cannot read property"
**Причина:** Ошибка в коде JavaScript
**Решение:**
1. Скопируйте полный текст ошибки из консоли
2. Проверьте, на какой строке возникает ошибка
3. Это может указывать на проблему в коде приложения

### Проблема 4: Белый экран, но нет ошибок в консоли
**Причина:** React приложение не монтируется
**Решение:**
1. Проверьте, что элемент `<div id="root"></div>` существует в HTML
2. Проверьте, что `main.tsx` загружается и выполняется
3. Проверьте Network tab - все ли файлы загружаются

## Проверка через curl

Можно проверить, что сервер возвращает правильные файлы:

```bash
# Проверка главной страницы
curl -I https://claritybot.ru/

# Проверка JavaScript файла (замените на актуальное имя из dist/index.html)
curl -I https://claritybot.ru/assets/index-CaotrxWe.js

# Проверка CSS файла
curl -I https://claritybot.ru/assets/index-CPWsFjWM.css
```

Все должны возвращать `200 OK`.

## Что делать после диагностики

1. **Если проблема в Cloudflare:**
   - Следуйте инструкциям в `CLOUDFLARE_FIX.md`
   - Очистите кеш
   - Проверьте настройки SSL/TLS

2. **Если проблема в Netlify:**
   - Проверьте статус деплоя
   - Пересоберите и задеплойте проект заново
   - Проверьте логи деплоя на ошибки

3. **Если проблема в коде:**
   - Проверьте ошибки в консоли браузера
   - Исправьте ошибки в коде
   - Пересоберите проект

## Контакты для помощи

Если проблема не решается:
1. Сохраните скриншоты консоли браузера с ошибками
2. Сохраните скриншоты Network tab
3. Проверьте логи в Netlify Dashboard
4. Проверьте настройки в Cloudflare Dashboard

